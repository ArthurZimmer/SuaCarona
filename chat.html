<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Chat</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="57x57" href="img/favicon_carona/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="img/favicon_carona/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/favicon_carona/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="img/favicon_carona/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/favicon_carona/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/favicon_carona/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/favicon_carona/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/favicon_carona/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/favicon_carona/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="img/favicon_carona/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon_carona/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="img/favicon_carona/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/favicon_carona/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet"> 

    <!-- Icon Font Stylesheet -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }
        .chat-container {
            max-width: 80%;
            margin: 20px auto;
            background: white;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            overflow: hidden;
            display: flex;
            height: 85vh;
        }
        .contacts-section {
            background-color: #f8f9fa;
            border-right: 2px solid #e0e0e0;
            width: 30%;
            padding: 10px;
        }
        .contact-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .contact-item:hover {
            background-color: #e3f2fd;
        }
        .contact-item.active {
            background-color: #28a745;
            color: white;
        }
        .contact-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-right: 15px;
            background: #d9d9d9;
        }
        .chat-section {
            width: 70%;
            display: flex;
            flex-direction: column;
        }
        .chat-header {
            background-color: #28a745;
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            border-bottom: 2px solid #e0e0e0;
        }
        .chat-messages {
            flex-grow: 1;
            overflow-y: auto;
            padding: 20px;
            background-color: #f8f9fa;
            display: flex;
            flex-direction: column;
        }
        .message {
            margin-bottom: 10px;
            max-width: 70%;
            padding: 10px 15px;
            border-radius: 10px;
            display: inline-block;
            word-wrap: break-word;
            line-height: 1.5;
        }
        .message.sent {
            float: right;
            background-color: #28a745;
            color: white;
            text-align: right;
            border-top-right-radius: 0;
            margin-left: auto; /* Adiciona esse estilo para alinhar à direita */
        }
        .message.received {
            float: left;
            background-color: #d4edda;
            color: black;
            text-align: left;
            border-top-left-radius: 0;
        }
        .chat-input {
            display: flex;
            padding: 15px;
            background-color: #ffffff;
            border-top: 2px solid #e0e0e0;
        }
        .chat-input input {
            flex-grow: 1;
            margin-right: 10px;
            padding: 10px;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
        }
        .chat-input button {
            background-color: #28a745;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .chat-input button:hover {
            background-color: #218838;
        }
    </style>
    
</head>
<body>
    <!-- Navbar (same as original) -->
    <div class="container-fluid nav-bar bg-transparent">
        <nav class="navbar navbar-expand-lg bg-white navbar-light py-0 px-4">
            <a href="index.php" class="navbar-brand d-flex align-items-center text-center">
                <div class="icon p-2 me-2">
                    <img class="img-fluid" src="img/logo-projeto-2 (3).png" alt="Icon" style="width: 30px; height: 30px;">
                </div>
                <h1 class="m-0 text-primary">SuaCarona</h1>
            </a>
            <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav ms-auto">
                    <a href="index.php" class="nav-item nav-link ">Início</a>
                    <a href="sobreLogado.php" class="nav-item nav-link">Sobre nós</a>
                    <a href="faleconoscologado.html" class="nav-item nav-link active">Fale conosco</a>

                    <!-- Nav Item - User Information -->
                    <li class="nav-item dropdown no-arrow">
                        <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in" aria-labelledby="userDropdown">
                            <a class="dropdown-item" href="perfil.html">
                                <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i> Perfil
                            </a>
                            <div class="dropdown-divider"></div>
                            <a class="dropdown-item" href="sair.php" data-toggle="modal" data-target="#logoutModal">
                                <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i> Sair
                            </a>
                        </div>
                    </li>
                </div>
            </div>
        </nav>
    </div>

    <div class="chat-container">
        <!-- Contacts Section -->
        <div class="contacts-section">
            <div class="contact-item active">
                <div class="contact-avatar"></div>
                <div>Suporte Online</div>
            </div>
            <div class="contact-item">
                <div class="contact-avatar"></div>
                <div>João Silva</div>
            </div>
        </div>

        <!-- Chat Section -->
        <div class="chat-section">
            <div class="chat-header">
                <div class="contact-avatar"></div>
                <h5 style="color: white; margin-top: 8px;">Suporte Online</h5>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message received">
                    Olá, precisando de alguma ajuda?
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="userMessage" placeholder="Digite sua mensagem..." />
                <button onclick="sendMessage()">Enviar</button>
            </div>
        </div>
    </div>

    <script>
let chatMessages = document.getElementById('chatMessages');
let userMessageCount = 0; // Contador de mensagens do usuário
let supportResponseCount = 0; // Contador de respostas do suporte

// Função para enviar a mensagem do usuário
function sendMessage() {
    let userMessage = document.getElementById('userMessage').value;
    if (userMessage.trim() !== "") {
        // Primeira mensagem do suporte (à esquerda)
        if (chatMessages.children.length === 0) {
            let initialSupportMessage = document.createElement('div');
            initialSupportMessage.classList.add('message', 'received');
            initialSupportMessage.textContent = "Olá, precisando de alguma ajuda?";
            chatMessages.appendChild(initialSupportMessage);
        }

        // Enviar a mensagem do usuário (à direita)
        let messageDiv = document.createElement('div');
        messageDiv.classList.add('message', 'sent');
        messageDiv.textContent = userMessage;
        chatMessages.appendChild(messageDiv);
        document.getElementById('userMessage').value = ""; // Limpar o campo de entrada

        userMessageCount++; // Incrementa o contador de mensagens do usuário
        if (userMessageCount === 1) {
            setTimeout(() => {
                let redirectionMessage = document.createElement('div');
                redirectionMessage.classList.add('message', 'received');
                redirectionMessage.textContent = "Como posso ajudar você hoje?";
                chatMessages.appendChild(redirectionMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight; // Rolar para o fundo
            }, 1000);
        }
        // Se for a segunda mensagem do cliente, responder com o redirecionamento
        if (userMessageCount === 2) {
            setTimeout(() => {
                let redirectionMessage = document.createElement('div');
                redirectionMessage.classList.add('message', 'received');
                redirectionMessage.textContent = "Estamos redirecionando-o(a) para um atendente...";
                chatMessages.appendChild(redirectionMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight; // Rolar para o fundo
            }, 1000);
        } 
        if (userMessageCount === 3) {
            setTimeout(() => {
                let redirectionMessage = document.createElement('div');
                redirectionMessage.classList.add('message', 'received');
                redirectionMessage.textContent = "Aguarde um pouco, o atendente logo entrará em contato";
                chatMessages.appendChild(redirectionMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight; // Rolar para o fundo
            }, 1000);
        } 
    }
}
    </script>


        <!-- Footer Start -->
        <div class="container-fluid bg-dark text-white-50 footer pt-5 mt-5 wow fadeIn" data-wow-delay="0.1s">
            <div class="container py-5">
                <div class="row g-5">
                    <div class="col-lg-3 col-md-6">
                        <h5 class="text-white mb-4">Entre em contato</h5>
                        <p class="mb-2"><i class="fa fa-map-marker-alt me-3"></i>Rua SuaCarona, 145, Bom Jardim, Ivoti</p>
                        <p class="mb-2"><i class="fa fa-phone-alt me-3"></i>+55 051 985520217</p>
                        <p class="mb-2"><i class="fa fa-envelope me-3"></i>SuaCarona@Gmail.com</p>
                        <div class="d-flex pt-2">
                            <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-twitter"></i></a>
                            <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-youtube"></i></a>
                            <a class="btn btn-outline-light btn-social" href=""><i class="fab fa-linkedin-in"></i></a>
                        </div>
                    </div>
                    <div class="col-lg-3 col-md-6">
                        <h5 class="text-white mb-4">Links</h5>
                        <a class="btn btn-link text-white-50" href="oquenossomos.html">Sobre Nós</a>
                        <a class="btn btn-link text-white-50" href="contact.html">Entrar em Contato</a>
                        <a class="btn btn-link text-white-50" href="serviço.html">Nossos Serviços</a>
                        <a class="btn btn-link text-white-50" href="">Política de Privacidade</a>
                        <a class="btn btn-link text-white-50" href="">Termos e Condições</a>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="copyright">
                    <div class="row">
                        <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
                            &copy; <a class="border-bottom" href="index.php">SuaCarona</a>, Todos os Direitos Reservados.
                        </div>
                        <div class="col-md-6 text-center text-md-end">
                            <div class="footer-menu">
                                <a href="">Página Inicial</a>
                                <a href="">Cookies</a>
                                <a href="">Ajuda</a>
                                <a href="">FAQs</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Footer End -->
        


        <!-- Back to Top -->
        <a href="#" class="btn btn-primary btn-lg-square rounded-circle back-to-top"><i class="fa fa-arrow-up"></i></a>   

        
        <!-- JavaScript Libraries -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="lib/wow/wow.min.js"></script>
        <script src="lib/easing/easing.min.js"></script>
        <script src="lib/waypoints/waypoints.min.js"></script>
        <script src="lib/counterup/counterup.min.js"></script>
        <script src="lib/lightbox/js/lightbox.min.js"></script>
        <script src="lib/owlcarousel/owl.carousel.min.js"></script>
        

        <!-- Template Javascript -->
        <script src="js/main.js"></script>
    
            <!-- Template Javascript -->
            <script src="js/main.js"></script>
</body>
</html>
